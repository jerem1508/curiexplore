{"version":3,"sources":["../static/js/2.b318a2d5.chunk.js","Components/Shared/GraphComponents/Graphs/HighChartsDonut.js"],"names":["webpackJsonp","707","module","__webpack_exports__","__webpack_require__","_classCallCheck","instance","Constructor","TypeError","_possibleConstructorReturn","self","call","ReferenceError","_inherits","subClass","superClass","prototype","Object","create","constructor","value","enumerable","writable","configurable","setPrototypeOf","__proto__","defineProperty","__WEBPACK_IMPORTED_MODULE_0_react__","__WEBPACK_IMPORTED_MODULE_0_react___default","n","__WEBPACK_IMPORTED_MODULE_1_prop_types__","__WEBPACK_IMPORTED_MODULE_1_prop_types___default","__WEBPACK_IMPORTED_MODULE_2_highcharts__","__WEBPACK_IMPORTED_MODULE_2_highcharts___default","__WEBPACK_IMPORTED_MODULE_3_highcharts_react_official__","__WEBPACK_IMPORTED_MODULE_3_highcharts_react_official___default","__WEBPACK_IMPORTED_MODULE_4_highcharts_modules_accessibility__","__WEBPACK_IMPORTED_MODULE_4_highcharts_modules_accessibility___default","__WEBPACK_IMPORTED_MODULE_5_highcharts_modules_exporting__","__WEBPACK_IMPORTED_MODULE_5_highcharts_modules_exporting___default","__WEBPACK_IMPORTED_MODULE_6_highcharts_modules_export_data__","__WEBPACK_IMPORTED_MODULE_6_highcharts_modules_export_data___default","__WEBPACK_IMPORTED_MODULE_7__GraphComponents_scss__","__WEBPACK_IMPORTED_MODULE_7__GraphComponents_scss___default","_createClass","defineProperties","target","props","i","length","descriptor","key","protoProps","staticProps","HCAccessibility","Highcharts","HCExporting","HCExportingData","HighChartsDonut","chart","React","createRef","data","state","options","exportChartPdf","bind","exportChartPng","exportChartCsv","typeFacets","this","find","item","id","entries","NaturesData","labels","slice","map","values","count","tmp","push","plotBackgroundColor","plotBorderWidth","plotShadow","title","text","credits","legend","align","layout","verticalAlign","x","y","itemStyle","fontSize","itemMarginTop","itemMarginBottom","labelFormatter","percentage","toFixed","name","tooltip","pointFormat","plotOptions","pie","dataLabels","enabled","showInLegend","startAngle","endAngle","center","size","series","type","innerSize","exporting","filename","buttons","contextButton","chartOptions","setState","current","exportChart","downloadCSV","btnShare","paddingLeft","paddingRight","color","cursor","btnExport","ShareComponent","style","float","className","classes","BtnTxt","onClick","Button","highcharts","ref","Component","propTypes","PropTypes","string","isRequired","object"],"mappings":"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","file":"static/js/2.b318a2d5.chunk.js","sourcesContent":["webpackJsonp([2],{\n\n/***/ 707:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_prop_types__ = __webpack_require__(2);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_prop_types___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_prop_types__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_highcharts__ = __webpack_require__(36);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_highcharts___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_highcharts__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_highcharts_react_official__ = __webpack_require__(257);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_highcharts_react_official___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_highcharts_react_official__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_highcharts_modules_accessibility__ = __webpack_require__(258);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_highcharts_modules_accessibility___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_highcharts_modules_accessibility__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_highcharts_modules_exporting__ = __webpack_require__(59);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_highcharts_modules_exporting___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_5_highcharts_modules_exporting__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_highcharts_modules_export_data__ = __webpack_require__(259);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_highcharts_modules_export_data___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_6_highcharts_modules_export_data__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__GraphComponents_scss__ = __webpack_require__(256);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__GraphComponents_scss___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_7__GraphComponents_scss__);\nvar _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}__WEBPACK_IMPORTED_MODULE_4_highcharts_modules_accessibility___default()(__WEBPACK_IMPORTED_MODULE_2_highcharts___default.a);__WEBPACK_IMPORTED_MODULE_5_highcharts_modules_exporting___default()(__WEBPACK_IMPORTED_MODULE_2_highcharts___default.a);__WEBPACK_IMPORTED_MODULE_6_highcharts_modules_export_data___default()(__WEBPACK_IMPORTED_MODULE_2_highcharts___default.a);/**\n * HighChartsDonut\n * Url : <br/>\n * Description : Composant HighCharts qui rend les donuts <br/>\n * Responsive : . <br/>\n * Accessible : . <br/>\n * Tests unitaires : . <br/>.\n*/var HighChartsDonut=function(_Component){_inherits(HighChartsDonut,_Component);function HighChartsDonut(props){_classCallCheck(this,HighChartsDonut);var _this=_possibleConstructorReturn(this,(HighChartsDonut.__proto__||Object.getPrototypeOf(HighChartsDonut)).call(this,props));_this.chart=__WEBPACK_IMPORTED_MODULE_0_react___default.a.createRef();_this.data=_this.props.data;_this.state={options:null};_this.exportChartPdf=_this.exportChartPdf.bind(_this);_this.exportChartPng=_this.exportChartPng.bind(_this);_this.exportChartCsv=_this.exportChartCsv.bind(_this);return _this;}_createClass(HighChartsDonut,[{key:'componentDidMount',value:function componentDidMount(){var typeFacets=this.props.data.find(function(item){return item.id==='facet_natures';})||{entries:[]};var data=[];// const UUFacets = this.props.data.find(item => item.id === 'facet_urban_hits') || { entries: [] };\n// const UrbanUnitData = {\n//   labels: UUFacets.entries.slice(0, 10).map(item => (item.value)),\n//   values: UUFacets.entries.slice(0, 10).map(item => (item.count)),\n// };\nvar NaturesData={labels:typeFacets.entries.slice(0,10).map(function(item){return item.value;}),values:typeFacets.entries.slice(0,10).map(function(item){return item.count;})};for(var i=0;i<10;i+=1){var tmp=[];tmp.push(NaturesData.labels[i]);tmp.push(NaturesData.values[i]);data.push(tmp);}// const unit = 'unité';\nvar options={chart:{plotBackgroundColor:null,plotBorderWidth:0,plotShadow:false},title:{text:''},credits:false,// title: {\n//     text: 'Browser<br>shares<br>2017',\n//     align: 'center',\n//     verticalAlign: 'middle',\n//     y: 0\n// },\nlegend:{align:'right',layout:'vertical',verticalAlign:'middle',x:0,y:0,itemStyle:{fontSize:'14px'},itemMarginTop:5,itemMarginBottom:5,labelFormatter:function labelFormatter(){var percentage=this.percentage.toFixed(1);return'<span>'+this.name+'</span> (<b>'+percentage+'%)<br/>';}},tooltip:{pointFormat:'{series.name}: <b>{point.percentage:.1f}%</b>'},plotOptions:{pie:{dataLabels:{enabled:false// distance: -50,\n// style: {\n//     fontWeight: 'bold',\n//     color: 'white'\n// }\n},showInLegend:true,startAngle:0,endAngle:360,center:['50%','50%'],size:'100%'}},series:[{type:'pie',innerSize:'50%',data:data}],exporting:{filename:this.props.filename,buttons:{contextButton:{enabled:false}},chartOptions:{title:{text:this.props.filename}}}};this.setState({options:options});}},{key:'exportChartPdf',value:function exportChartPdf(){this.chart.current.chart.exportChart({type:'application/pdf'});}},{key:'exportChartPng',value:function exportChartPng(){this.chart.current.chart.exportChart({type:'image/png'});}},{key:'exportChartCsv',value:function exportChartCsv(){this.chart.current.chart.downloadCSV();}},{key:'render',value:function render(){var _this2=this;var btnShare={paddingLeft:'5px',paddingRight:'10px',color:'#3778bb',cursor:'not-allowed'};var btnExport={color:'#3778bb',cursor:this.state.cursor};var ShareComponent=function ShareComponent(){return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('div',null,__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('hr',null),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('div',{style:{float:'left'}},__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('p',{className:''+__WEBPACK_IMPORTED_MODULE_7__GraphComponents_scss___default.a.BtnTxt},'Partager'),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('i',{style:btnShare,className:'fas fa-share-alt-square fa-lg'}),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('p',{className:''+__WEBPACK_IMPORTED_MODULE_7__GraphComponents_scss___default.a.BtnTxt},'Int\\xE9grer le code'),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('i',{style:btnShare,className:'fas fa-code fa-lg'})),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('div',{style:{float:'right'}},__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('p',{className:''+__WEBPACK_IMPORTED_MODULE_7__GraphComponents_scss___default.a.BtnTxt},__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('b',null,'T\\xE9l\\xE9charger')),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('button',{type:'button',onClick:_this2.exportChartPdf,className:''+__WEBPACK_IMPORTED_MODULE_7__GraphComponents_scss___default.a.Button},__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('i',{style:btnExport,className:'fas fa-file-pdf fa-lg'})),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('p',{className:''+__WEBPACK_IMPORTED_MODULE_7__GraphComponents_scss___default.a.BtnTxt},'.pdf'),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('button',{type:'button',onClick:_this2.exportChartPng,className:''+__WEBPACK_IMPORTED_MODULE_7__GraphComponents_scss___default.a.Button},__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('i',{style:btnExport,className:'fas fa-image fa-lg'})),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('p',{className:''+__WEBPACK_IMPORTED_MODULE_7__GraphComponents_scss___default.a.BtnTxt},'.png'),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('button',{type:'button',onClick:_this2.exportChartCsv,className:''+__WEBPACK_IMPORTED_MODULE_7__GraphComponents_scss___default.a.Button},__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('i',{style:btnExport,className:'fas fa-table fa-lg'})),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('p',{className:''+__WEBPACK_IMPORTED_MODULE_7__GraphComponents_scss___default.a.BtnTxt},'.csv')));};return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('div',null,this.state.options!==null?__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('div',null,__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('hr',null),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_3_highcharts_react_official___default.a,{highcharts:__WEBPACK_IMPORTED_MODULE_2_highcharts___default.a,options:this.state.options,ref:this.chart}),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(ShareComponent,null)):__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('div',null,'Loading...'));}}]);return HighChartsDonut;}(__WEBPACK_IMPORTED_MODULE_0_react__[\"Component\"]);/* harmony default export */ __webpack_exports__[\"default\"] = (HighChartsDonut);HighChartsDonut.propTypes={filename:__WEBPACK_IMPORTED_MODULE_1_prop_types___default.a.string.isRequired,data:__WEBPACK_IMPORTED_MODULE_1_prop_types___default.a.object.isRequired};\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// static/js/2.b318a2d5.chunk.js","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport Highcharts from 'highcharts';\nimport HighchartsReact from 'highcharts-react-official';\nimport HCAccessibility from 'highcharts/modules/accessibility';\nimport HCExporting from 'highcharts/modules/exporting';\nimport HCExportingData from 'highcharts/modules/export-data';\n\nimport classes from '../GraphComponents.scss';\n\nHCAccessibility(Highcharts);\nHCExporting(Highcharts);\nHCExportingData(Highcharts);\n\n/**\n * HighChartsDonut\n * Url : <br/>\n * Description : Composant HighCharts qui rend les donuts <br/>\n * Responsive : . <br/>\n * Accessible : . <br/>\n * Tests unitaires : . <br/>.\n*/\n\nexport default class HighChartsDonut extends Component {\n  constructor(props) {\n    super(props);\n    this.chart = React.createRef();\n    this.data = this.props.data;\n    this.state = {\n      options: null,\n    };\n    this.exportChartPdf = this.exportChartPdf.bind(this);\n    this.exportChartPng = this.exportChartPng.bind(this);\n    this.exportChartCsv = this.exportChartCsv.bind(this);\n  }\n\n  componentDidMount() {\n    const typeFacets = this.props.data.find(item => item.id === 'facet_natures') || { entries: [] };\n    const data = [];\n    // const UUFacets = this.props.data.find(item => item.id === 'facet_urban_hits') || { entries: [] };\n    // const UrbanUnitData = {\n    //   labels: UUFacets.entries.slice(0, 10).map(item => (item.value)),\n    //   values: UUFacets.entries.slice(0, 10).map(item => (item.count)),\n    // };\n    const NaturesData = {\n      labels: typeFacets.entries.slice(0, 10).map(item => (item.value)),\n      values: typeFacets.entries.slice(0, 10).map(item => (item.count)),\n    };\n    for (let i = 0; i < 10; i += 1) {\n      const tmp = [];\n      tmp.push(NaturesData.labels[i]);\n      tmp.push(NaturesData.values[i]);\n      data.push(tmp);\n    }\n    // const unit = 'unité';\n    const options = {\n      chart: {\n        plotBackgroundColor: null,\n        plotBorderWidth: 0,\n        plotShadow: false,\n      },\n      title: { text: '' },\n      credits: false,\n      // title: {\n      //     text: 'Browser<br>shares<br>2017',\n      //     align: 'center',\n      //     verticalAlign: 'middle',\n      //     y: 0\n      // },\n      legend: {\n        align: 'right',\n        layout: 'vertical',\n        verticalAlign: 'middle',\n        x: 0,\n        y: 0,\n        itemStyle: {\n          fontSize: '14px',\n        },\n        itemMarginTop: 5,\n        itemMarginBottom: 5,\n        labelFormatter() {\n          const percentage = this.percentage.toFixed(1);\n          return `<span>${this.name}</span> (<b>${percentage}%)<br/>`;\n        },\n      },\n      tooltip: {\n        pointFormat: '{series.name}: <b>{point.percentage:.1f}%</b>',\n      },\n      plotOptions: {\n        pie: {\n          dataLabels: {\n            enabled: false,\n            // distance: -50,\n            // style: {\n            //     fontWeight: 'bold',\n            //     color: 'white'\n            // }\n          },\n          showInLegend: true,\n          startAngle: 0,\n          endAngle: 360,\n          center: ['50%', '50%'],\n          size: '100%',\n        },\n      },\n      series: [{\n        type: 'pie',\n        innerSize: '50%',\n        data,\n      }],\n      exporting: {\n        filename: this.props.filename,\n        buttons: {\n          contextButton: {\n            enabled: false,\n          },\n        },\n        chartOptions: {\n          title: {\n            text: this.props.filename,\n          },\n        },\n      },\n    };\n    this.setState({ options });\n  }\n\n\n  exportChartPdf() {\n    this.chart.current.chart.exportChart({\n      type: 'application/pdf',\n    });\n  }\n\n  exportChartPng() {\n    this.chart.current.chart.exportChart({\n      type: 'image/png',\n    });\n  }\n\n  exportChartCsv() {\n    this.chart.current.chart.downloadCSV();\n  }\n\n  render() {\n    const btnShare = {\n      paddingLeft: '5px',\n      paddingRight: '10px',\n      color: '#3778bb',\n      cursor: 'not-allowed',\n    };\n    const btnExport = {\n      color: '#3778bb',\n      cursor: this.state.cursor,\n    };\n    const ShareComponent = () => (\n      <div>\n        <hr />\n        <div style={{ float: 'left' }}>\n          <p className={`${classes.BtnTxt}`}>Partager</p>\n          <i style={btnShare} className=\"fas fa-share-alt-square fa-lg\" />\n          <p className={`${classes.BtnTxt}`}>Intégrer le code</p>\n          <i style={btnShare} className=\"fas fa-code fa-lg\" />\n        </div>\n        <div style={{ float: 'right' }}>\n          <p className={`${classes.BtnTxt}`}><b>Télécharger</b></p>\n          <button type=\"button\" onClick={this.exportChartPdf} className={`${classes.Button}`}><i style={btnExport} className=\"fas fa-file-pdf fa-lg\" /></button>\n          <p className={`${classes.BtnTxt}`}>.pdf</p>\n          <button type=\"button\" onClick={this.exportChartPng} className={`${classes.Button}`}><i style={btnExport} className=\"fas fa-image fa-lg\" /></button>\n          <p className={`${classes.BtnTxt}`}>.png</p>\n          <button type=\"button\" onClick={this.exportChartCsv} className={`${classes.Button}`}><i style={btnExport} className=\"fas fa-table fa-lg\" /></button>\n          <p className={`${classes.BtnTxt}`}>.csv</p>\n        </div>\n      </div>\n    );\n    return (\n      <div>\n        {\n        this.state.options !== null\n          ? (\n            <div>\n              <hr />\n              <HighchartsReact\n                highcharts={Highcharts}\n                options={this.state.options}\n                ref={this.chart}\n              />\n              <ShareComponent />\n            </div>\n          )\n          : <div>Loading...</div>\n      }\n      </div>\n    );\n  }\n}\n\n\nHighChartsDonut.propTypes = {\n  filename: PropTypes.string.isRequired,\n  data: PropTypes.object.isRequired,\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/Components/Shared/GraphComponents/Graphs/HighChartsDonut.js"],"sourceRoot":""}